(this["webpackJsonpreporter-react-tailwind-ts"]=this["webpackJsonpreporter-react-tailwind-ts"]||[]).push([[0],{100:function(e,t,n){"use strict";n.r(t);var o,c=n(1),a=n.n(c),r=n(14),l=n.n(r),s=(n(49),n(12)),i=n.n(s),u=n(15),d=n(6),g=n(5),j=n(4),b=function(e){var t=Object(c.useState)(""),n=Object(d.a)(t,2),o=n[0],a=n[1];return function(){var t=Object(u.a)(i.a.mark((function t(){var n,o;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0!=e.lon){t.next=2;break}return t.abrupt("return","");case 2:return t.prev=2,t.next=5,fetch("https://forward-reverse-geocoding.p.rapidapi.com/v1/reverse?lat=".concat(e.lat,"&lon=").concat(e.lon,"&accept-language=zh_tw&format=json&polygon_threshold=0.0"),{method:"GET",headers:{"x-rapidapi-host":"forward-reverse-geocoding.p.rapidapi.com","x-rapidapi-key":"764fd260b3msh993f28723a63f85p1ea974jsnaa720e9e39db"}});case 5:return n=t.sent,t.next=8,n.json();case 8:o=t.sent,a(o.address.country?o.address.country:o.address.state),t.next=14;break;case 12:t.prev=12,t.t0=t.catch(2);case 14:case"end":return t.stop()}}),t,null,[[2,12]])})));return function(){return t.apply(this,arguments)}}()(),Object(j.jsx)("span",{children:"undefined"==e.lon?"":"\u5730\u9ede "+o})},p=(n(52),n.p+"static/media/Capture_Side_By_Side_White.fcfe8b8d.svg"),h=n(40),v=n.n(h);n(53);!function(e){e.Dark="Dark",e.Light="Light"}(o||(o={}));var O=Object(c.createContext)({isFilter:!1,setIsFilter:function(e){return console.warn("no theme provider")},lootDate:new Date,startDate:new Date,endDate:null,setEndDate:function(e){return console.warn("no theme provider")},setStartDate:function(e){return console.warn("no theme provider")},setLootDate:function(e){return console.warn("no theme provider")}}),f=n(39),m=n.n(f),S=function(e){var t=e.images,n=(e.Infos,e.page),o=Object(c.useState)(0),r=Object(d.a)(o,2),l=r[0],s=r[1],i=Object(c.useState)(),u=Object(d.a)(i,2),g=u[0],h=u[1],f=Object(c.useState)(),S=Object(d.a)(f,2),_=S[0],x=S[1],w=Object(c.useRef)([]),D=Object(c.useContext)(O),I=(D.setLootDate,D.setEndDate),k=D.setStartDate,N=D.endDate,y=D.startDate,F=(D.isFilter,D.setIsFilter),E=a.a.useState(!1),C=Object(d.a)(E,2),T=(C[0],C[1]),M=a.a.useState(!1),L=Object(d.a)(M,2),B=L[0],P=L[1];Object(c.useEffect)((function(){t&&t[0]&&(w.current=w.current.slice(0,t.length),s(0),h(t[0]),x(t[0]),console.log("selectedInfo",_))}),[t]);var G=function(e){var n;t&&t.length>0&&(h(t[e]),s(e),(null===w||void 0===w?void 0:w.current[e])&&(null===w||void 0===w||null===(n=w.current[e])||void 0===n||n.scrollIntoView({inline:"center",behavior:"smooth"})))},A=function(e){var t=e.value,n=e.onClick;return Object(j.jsx)("button",{className:"content-Button ",onClick:n,children:Object(j.jsxs)("p",{className:"view-all",children:[" ",t]})})};return Object(j.jsxs)("div",{className:"carousel-container",children:[Object(j.jsxs)("div",{className:"carousel",children:[Object(j.jsx)("div",{className:"carousel__images",children:t&&t.map((function(e,t){return Object(j.jsx)("div",{onClick:function(){return G(t)},style:{backgroundImage:"url(".concat(e.url,")")},className:"carousel__image ".concat(l===t&&"carousel__image-selected"),ref:function(e){return w.current[t]=e}},e.id)}))}),Object(j.jsx)("div",{className:"btn-prev carousel__button carousel__button-left",onClick:function(){if(t&&t.length>0){var e=l-1;e<0&&(e=t.length-1),G(e)}},children:Object(j.jsxs)("svg",{width:"15",height:"24",viewBox:"0 0 15 24",xmlns:"http://www.w3.org/2000/svg",children:[Object(j.jsx)("title",{children:"Left Arrow"}),Object(j.jsx)("path",{d:"M13 2.308l-10 10 10 10","stroke-width":"4",stroke:"#C3000B",fill:"none","fill-rule":"evenodd"})]})}),Object(j.jsx)("div",{className:"btn-next carousel__button carousel__button-right",onClick:function(){if(t&&t.length>0){var e=l+1;e>=t.length&&(e=0),G(e)}},children:Object(j.jsxs)("svg",{width:"15",height:"24",viewBox:"0 0 15 24",xmlns:"http://www.w3.org/2000/svg",children:[Object(j.jsx)("title",{children:"Right Arrow"}),Object(j.jsx)("path",{d:"M2 2.308l10 10-10 10","stroke-width":"4",stroke:"#C3000B",fill:"none","fill-rule":"evenodd"})]})})]}),Object(j.jsxs)("div",{className:"category",children:[Object(j.jsxs)("div",{className:"category-line",children:[Object(j.jsx)("div",{children:n}),Object(j.jsxs)("div",{className:"category-date",children:[Object(j.jsx)("div",{className:"category-DatePicker",children:Object(j.jsx)(v.a,{selected:y,customInput:a.a.createElement(A),dateFormat:"yyyy-MM-dd",startDate:y,endDate:N,selectsRange:!0,onChange:function(e){var t=Object(d.a)(e,2),n=t[0],o=t[1];e&&(k(n),I(o),null!=o&&F(!0)),console.log(e)}})}),Object(j.jsx)("button",{className:"content-Button ",onClick:function(){k(new Date),I(null),F(!0)},children:Object(j.jsx)("p",{className:"view-all",children:"\u67e5\u770b\u6240\u6709"})})]})]}),Object(j.jsx)("div",{className:"line-top"})]}),Object(j.jsx)("img",{className:"originalimg",onLoad:function(){return T(!0)},onClick:function(){P(!0)},alt:"origina_img",src:null===g||void 0===g?void 0:g.original}),Object(j.jsx)(m.a,{scalable:!1,noFooter:!0,noNavbar:!0,noToolbar:!0,noImgDetails:!0,visible:B,onClose:function(){P(!1)},images:[{src:null===g||void 0===g?void 0:g.asset_file_url,alt:""}]}),Object(j.jsx)("div",{className:"directions",children:Object(j.jsxs)("div",{className:"info",children:[Object(j.jsxs)("div",{className:"user-mini",children:[n,Object(j.jsx)("img",{src:p,className:"Capture-logo-mini",alt:"logo"})," "]}),Object(j.jsxs)("p",{className:"time",children:["\u65e5\u671f "," ",null===g||void 0===g?void 0:g.time.slice(0,10)]}),Object(j.jsxs)("p",{className:"time",children:["\u6642\u9593 "," ",null===g||void 0===g?void 0:g.time.slice(11,19)]}),Object(j.jsxs)("p",{className:"location",children:[Object(j.jsx)(b,{lat:null===g||void 0===g?void 0:g.lat,lon:null===g||void 0===g?void 0:g.lon})," "]}),Object(j.jsxs)("p",{className:"GPS",children:["undefined"===(null===g||void 0===g?void 0:g.lat)?"":"GPS ".concat(null===g||void 0===g?void 0:g.lat)," ","undefined"===(null===g||void 0===g?void 0:g.lon)?"":null===g||void 0===g?void 0:g.lon]}),Object(j.jsxs)("p",{className:"GPS",children:["Web 3.0 \u5f71\u50cf ID :"," ",Object(j.jsx)("a",{target:"_blank",href:"https://ipfs.io/ipfs/"+(null===g||void 0===g?void 0:g.id),children:null===g||void 0===g?void 0:g.id})]}),Object(j.jsxs)("p",{className:"GPS",children:["\u53bb\u4e2d\u5fc3\u5316\u5f71\u50cf\u7db2\u7d61\u8a3b\u518a :"," ",Object(j.jsx)("a",{target:"_blank",href:"https://authmedia.net/public-certificate?mid="+(null===g||void 0===g?void 0:g.id),children:null===g||void 0===g?void 0:g.id})]})]})}),Object(j.jsx)("div",{className:"caption",children:(null===g||void 0===g?void 0:g.caption)?null===g||void 0===g?void 0:g.caption:""})]})};n(38);function _(){var e=Object(c.useState)(),t=Object(d.a)(e,2),n=t[0],o=t[1],a=Object(c.useState)(new Date),r=Object(d.a)(a,2),l=r[0],s=r[1],b=Object(c.useState)(new Date),p=Object(d.a)(b,2),h=p[0],v=p[1],f=Object(c.useState)(null),m=Object(d.a)(f,2),_=m[0],x=m[1],w=Object(c.useState)(!1),D=Object(d.a)(w,2),I=D[0],k=D[1],N=Object(c.useState)(!0),y=Object(d.a)(N,2),F=y[0],E=y[1];function C(e,t,n,o){var c=[],a=n.toString(),r=o.toString(),l=new Date(a),s=new Date(r);return console.log("startDate_",a,l),console.log("endDate_",r,s),a&&r?(e.map((function(e){console.log("info",e[t]),console.log("VS_",l<s);var n=e[t].slice(0,10),o=new Date(n.toString());console.log("".concat(l,"=<").concat(o,"=<").concat(s,"TIME result"),l<o&&o<s),console.log("".concat(l,"=<").concat(s,"TIME result"),l<s),console.log("".concat(l,"=<").concat(o,"TIME result"),l<o),console.log("".concat(o,"=<").concat(s,"TIME result"),o<s),l<=o&&o<=s&&c.push(e)})),console.log("result",c),c):[]}var T=Object(g.g)(),M=Object(c.useState)("twreporter-reporter-page/"),L=Object(d.a)(M,2),B=(L[0],L[1]);Object(c.useEffect)((function(){return"twreporter-reporter-page/history"===T["*"]?B("twreporter-reporter-page/history"):B("twreporter-reporter-page/")}),[]);var P=function(){var e=Object(u.a)(i.a.mark((function e(){var t,n,c,a,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://dia-backend.numbersprotocol.io/api/v3/assets/?limit=100&owner=archive-2022@numbersprotocol.io",e.prev=1,e.next=4,fetch("https://dia-backend.numbersprotocol.io/api/v3/assets/?limit=100&owner=archive-2022@numbersprotocol.io",{method:"GET",headers:{Authorization:"token 9a526cef3cea200effa155ee99cb50891e85bf18"}});case 4:if(null===(t=e.sent)||void 0===t){e.next=14;break}return e.next=8,t.json();case 8:n=e.sent,c=n.results,a=c.map((function(e){return{id:e.id,asset_file_thumbnail:e.asset_file_thumbnail,asset_file_url:e.asset_file_url,cai_file:e.cai_file,cai_file_url:e.cai_file_url,cid:e.cid,creator:e.creator,creator_name:e.creator_name,thumbnail:e.asset_file_thumbnail,url:e.asset_file_thumbnail,original:e.sharable_copy,time:e.updated_at,caption:e.caption,lat:void 0===e.parsed_meta.capture_latitude?"undefined":e.parsed_meta.capture_latitude,lon:void 0===e.parsed_meta.capture_longitude?"undefined":e.parsed_meta.capture_longitude,location:"ss"}})),console.log("lootDate",l,new Date),I?null==_?(k(!1),console.log("\u67e5\u770b\u6240\u6709 \u6b64\u65e5\u671f".concat(h.toISOString(),"\u6c92\u6709\uff0c\u9810\u8a2d\u8f09\u5165\u5168\u90e8"),a.length),o(a.slice(0,100))):(console.log("Fg01"),console.log("Fg02"),console.log("startDate",h.toISOString().slice(0,10)),console.log("endDate",_.toISOString().slice(0,10)),console.log("Fg03"),console.log("VS",new Date(h.toISOString().slice(0,10).toString())<new Date(_.toISOString().slice(0,10).toString())),console.log("Fg04"),r=C(a,"time",h.toISOString().slice(0,10),_.toISOString().slice(0,10)),console.log("Fg05"),console.log("\u5982\u679c\u4e0d\u540c\u5929 \u627e\u51fa\u7576\u65e5",h.toISOString().slice(0,10),r),0!==r.length?(console.log("\u6b64\u65e5\u671f".concat(h.toISOString(),"\uff0c\u627e\u5230"),r.length),o(r.slice(0,100))):(alert("\u6b64\u65e5\u671f".concat(h.toISOString().slice(0,10)," ~ ").concat(_.toISOString().slice(0,10),"\u6c92\u6709\u627e\u5230\uff0c\u8f09\u5165\u9810\u8a2d\u7bc4\u570d")),console.log("\u6b64\u65e5\u671f".concat(h.toISOString(),"\u6c92\u6709\uff0c\u9810\u8a2d\u8f09\u5165\u5168\u90e8"),a.length),o(a.slice(0,100))),k(!1)):F&&(console.log("\u6c92\u6709\uff0c\u9810\u8a2d\u8f09\u5165\u5168\u90e8",I,a.length),o(a.slice(0,100)),E(!1)),console.log("Fg03",I);case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(1);case 18:case"end":return e.stop()}}),e,null,[[1,16]])})));return function(){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){P(),console.log("lootDate",l.toISOString().slice(0,10))}),[I]),Object(j.jsx)("div",{className:"App",children:Object(j.jsx)(O.Provider,{value:{isFilter:I,setIsFilter:k,lootDate:l,setLootDate:s,startDate:h,setStartDate:v,endDate:_,setEndDate:x},children:Object(j.jsx)(S,{page:"\u8b80\u8005\u6295\u7a3f",images:n})})})}function x(){var e=Object(c.useState)(),t=Object(d.a)(e,2),n=t[0],o=t[1],a=Object(c.useState)(new Date),r=Object(d.a)(a,2),l=r[0],s=r[1],b=Object(c.useState)(new Date),p=Object(d.a)(b,2),h=p[0],v=p[1],f=Object(c.useState)(null),m=Object(d.a)(f,2),_=m[0],x=m[1],w=Object(c.useState)(!1),D=Object(d.a)(w,2),I=D[0],k=D[1],N=Object(c.useState)(!0),y=Object(d.a)(N,2),F=y[0],E=y[1];function C(e,t,n,o){var c=[],a=n.toString(),r=o.toString(),l=new Date(a),s=new Date(r);return console.log("startDate_",a,l),console.log("endDate_",r,s),a&&r?(e.map((function(e){console.log("info",e[t]),console.log("VS_",l<s);var n=e[t].slice(0,10),o=new Date(n.toString());console.log("".concat(l,"=<").concat(o,"=<").concat(s,"TIME result"),l<o&&o<s),console.log("".concat(l,"=<").concat(s,"TIME result"),l<s),console.log("".concat(l,"=<").concat(o,"TIME result"),l<o),console.log("".concat(o,"=<").concat(s,"TIME result"),o<s),l<=o&&o<=s&&c.push(e)})),console.log("result",c),c):[]}var T=Object(g.g)(),M=Object(c.useState)("twreporter-reporter-page/"),L=Object(d.a)(M,2),B=(L[0],L[1]);Object(c.useEffect)((function(){return"twreporter-reporter-page/history"===T["*"]?B("twreporter-reporter-page/history"):B("twreporter-reporter-page/")}),[]);var P=function(){var e=Object(u.a)(i.a.mark((function e(){var t,n,c,a,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://dia-backend.numbersprotocol.io/api/v3/assets/?limit=100&owner=reporter_archive@numbersprotocol.io",e.prev=1,e.next=4,fetch("https://dia-backend.numbersprotocol.io/api/v3/assets/?limit=100&owner=reporter_archive@numbersprotocol.io",{method:"GET",headers:{Authorization:"token 173e907d3138dd684d67e5f4ec027c9139b9bad5"}});case 4:if(null===(t=e.sent)||void 0===t){e.next=14;break}return e.next=8,t.json();case 8:n=e.sent,c=n.results,a=c.map((function(e){return{id:e.id,asset_file_thumbnail:e.asset_file_thumbnail,asset_file_url:e.asset_file_url,cai_file:e.cai_file,cai_file_url:e.cai_file_url,cid:e.cid,creator:e.creator,creator_name:e.creator_name,thumbnail:e.asset_file_thumbnail,url:e.asset_file_thumbnail,original:e.sharable_copy,time:e.updated_at,caption:e.caption,lat:void 0===e.parsed_meta.capture_latitude?"undefined":e.parsed_meta.capture_latitude,lon:void 0===e.parsed_meta.capture_longitude?"undefined":e.parsed_meta.capture_longitude,location:"ss"}})),console.log("lootDate",l,new Date),I?null==_?(k(!1),console.log("\u67e5\u770b\u6240\u6709 \u6b64\u65e5\u671f".concat(h.toISOString(),"\u6c92\u6709\uff0c\u9810\u8a2d\u8f09\u5165\u5168\u90e8"),a.length),o(a.slice(0,100))):(console.log("Fg01"),console.log("Fg02"),console.log("startDate",h.toISOString().slice(0,10)),console.log("endDate",_.toISOString().slice(0,10)),console.log("Fg03"),console.log("VS",new Date(h.toISOString().slice(0,10).toString())<new Date(_.toISOString().slice(0,10).toString())),console.log("Fg04"),r=C(a,"time",h.toISOString().slice(0,10),_.toISOString().slice(0,10)),console.log("Fg05"),console.log("\u5982\u679c\u4e0d\u540c\u5929 \u627e\u51fa\u7576\u65e5",h.toISOString().slice(0,10),r),0!==r.length?(console.log("\u6b64\u65e5\u671f".concat(h.toISOString(),"\uff0c\u627e\u5230"),r.length),o(r.slice(0,100))):(alert("\u6b64\u65e5\u671f".concat(h.toISOString().slice(0,10)," ~ ").concat(_.toISOString().slice(0,10),"\u6c92\u6709\u627e\u5230\uff0c\u8f09\u5165\u9810\u8a2d\u7bc4\u570d")),console.log("\u6b64\u65e5\u671f".concat(h.toISOString(),"\u6c92\u6709\uff0c\u9810\u8a2d\u8f09\u5165\u5168\u90e8"),a.length),o(a.slice(0,100))),k(!1)):F&&(console.log("\u6c92\u6709\uff0c\u9810\u8a2d\u8f09\u5165\u5168\u90e8",I,a.length),o(a.slice(0,100)),E(!1)),console.log("Fg03",I);case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(1);case 18:case"end":return e.stop()}}),e,null,[[1,16]])})));return function(){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){P(),console.log("lootDate",l.toISOString().slice(0,10))}),[I]),Object(j.jsx)("div",{className:"App",children:Object(j.jsx)(O.Provider,{value:{isFilter:I,setIsFilter:k,lootDate:l,setLootDate:s,startDate:h,setStartDate:v,endDate:_,setEndDate:x},children:Object(j.jsx)(S,{page:"\u6b77\u53f2\u5f71\u50cf",images:n})})})}var w=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,108)).then((function(t){var n=t.getCLS,o=t.getFID,c=t.getFCP,a=t.getLCP,r=t.getTTFB;n(e),o(e),c(e),a(e),r(e)}))},D=n(21);l.a.render(Object(j.jsx)(a.a.StrictMode,{children:Object(j.jsx)(D.a,{children:Object(j.jsxs)(g.c,{children:[Object(j.jsx)(g.a,{path:"/",element:Object(j.jsx)(_,{})}),Object(j.jsx)(g.a,{path:"/history",element:Object(j.jsx)(x,{})}),Object(j.jsx)(g.a,{path:"*",element:Object(j.jsx)("main",{style:{padding:"1rem"},children:Object(j.jsx)("p",{children:"There's nothing here!"})})})]})})}),document.getElementById("root")),w()},38:function(e,t,n){},49:function(e,t,n){},52:function(e,t,n){}},[[100,1,2]]]);
//# sourceMappingURL=main.8ea47028.chunk.js.map